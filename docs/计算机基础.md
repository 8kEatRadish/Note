# 计算机基础

## 操作系统基本功能

### 进程管理

- **进程与线程分别是什么？**
  - 进程是系统进行资源分配和调度的一个独立单位，它可以拥有自己的地址空间；引入进程是为了使多个程序可以并发地执行，以提高系统的资源利用率的吞吐量。
  - 线程是进程的一个实体，是CPU调度的基本单位，它是比进程更小的能独立运行的一个单位；引入线程是为了减少程序在并发过程中的开销，使OS的并发效率更高。
- **两者有什么区别？**
  - 进程是资源分配的最小单位，线程是调度的最小单位；
  - 一个线程只属于一个进程，而一个进程可以有多个线程，但至少有一个线程；
  - 进程本身保有资源，而线程只含有一些维持活动所必不可少的资源，本身不拥有系统资源。
- **为什么线程调度的开销比进程小？**
  - 由于进程是一个资源的拥有者，因此在创建或撤销进程的过程中，系统都要为之创建或回收进程控制块、分配或回收内存；同时，在进程切换时，系统需要保留当前进程的CPU环境，再设置新选中的进程的CPU环境；所以对进程的调度是相对复杂的，需要花费大量的处理机时间。
  - 而线程虽然具有许多传统进程所具有的特征，但本身不保有资源；并且，由于同一个进程中的资源是所有线程共享的，所以线程可以通过这些数据来进行更加方便快捷的通信，从而降低一些系统开销。因此相比于进程，线程能拥有更快的调度速度，又称为“轻型进程”。
- **进程有哪几种状态？**
  - 就绪状态：进程已经获得除处理机以外的全部所需资源，只要获得处理剂便可立即执行，则称此时的状态为就绪状态。
  - 运行状态：当进程已经获得处理机，且其程序正在处理机上运行，则称进程此时的状态为运行状态。
  - 阻塞状态：正在执行的进程，由于等待某个事件发生而无法执行时，便放弃处理机而处于阻塞状态。引起阻塞状态的事件可以有多种，例如：等待I/O完成、申请缓冲区不能满足、等待信号等等。
- **线程同步的方式有哪些？**
  - 互斥量：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问；但是这样比较容易造成死锁。
  - 信号量：它允许同一时刻多个线程访问同一资源，但是需要控制统一时刻访问此资源的最大线程数量；当需要一个计数器来限制可以使用某共享资源的数目时，可以使用“信号量”对象。
  - 事件（信号）：通过通知操作的方式来保持线程同步，还可以方便地实现多线程优先级的比较操作，即事件机制允许一个线程在处理完一个任务后，主动唤醒另一个线程执行任务。
- **经典的线程同步问题有哪些？**
  - 生产者-消费者问题
    - 问题描述：一组生产者进程和一组消费者进程共享一块初始为空，大小确定的缓冲区，只有当缓冲区不为满的时候，生产者进程才可以将消息放入缓冲区，否则就要等待；只有当缓冲区不为空的时候，消费者进程才可以从中取出消息，否则就要等待；缓冲区一次只能被一个进程所访问。
    - 问题分析：生产者和消费者进程对缓冲区的访问是互斥关系，而生产者与消费者本身又存在同步关系，即消息必须先被生产，然后才能被消费。因而可以为对缓冲区的访问设置一个互斥量，再设置两个信号量，一个记录空闲缓冲区单元，一个记录满缓冲区单元，从而实现生产者与消费者的同步。
  - 哲学家进餐问题
    - 问题描述：一张圆桌上坐着五名哲学家，每两个哲学家之间摆一根筷子，哲学家只有同时拿起左右两根筷子才可以用餐，用餐完成后将筷子放回原处。
    - 问题分析：为防止哲学家各取一根筷子而出现死锁，需要添加一定的限制条件。
    - 几种解决方案如下：
      - 限制至多只允许有四位哲学家同时去拿左边的筷子，最终能保证至少有一位哲学家能够进餐，并在用毕时能释放出他用过的筷子，从而使更多的哲学家能够进餐。
      - 限制仅当哲学家左右手两边的筷子都可用时，才允许拿起筷子进餐；即使用AND信号量机制解决问题。【信号量：1.信号量是一种变量或抽象数据类型，用于控制并发系统中多个进程对公共资源的访问。2.一个普通的信号量是一个普通的变量，可以对它进行递增或递减，或切换操作。】
  - 读者-写者问题
    - 问题描述：有读者和写者两个并发进程共享一个数据，多个读进程可以同时访问数据，但写进程的数据访问与其他进程都互斥。
    - 问题分析：读者与写者互斥，写者与写者互斥，读者与读者共享。所以需要一个互斥量实现读写进程与写写进程的互斥，此外还需要引入一个计数器对读线程计数，使得读读同步，读写互斥。
    - 几种解决方案如下：
      - 读者优先：但只要读者源源不断，写者就得不到资源，容易造成写者饥饿。
      - 读写公平：读者与写者公平竞争资源，但只要之前有已经排好队的读者，就算写者获取到了资源，扼要等待所有读者线程结束。
      - 写者优先：虽然之前已经排好队的读者可以优先访问资源，但在之后的读者则需要等待写者进程结束。只要写者源源不断，后面的读者就得不到资源，容易造成读者饥饿。
- **进程间的通信方式有哪些？**
  - 低级通信：对于用信号量进行的进程间的互斥与同步，由于其所交换的信息量少而被归结为低级通信。
  - 高级通信：用户可以利用操作系统所提供的一组通信命令传送大量数据，而操作系统隐藏了进程通信的实现细节，即通信过程对用户来说是透明的。高级通信机制可以归结为三大类：
    - 管道通信：管道通信是一种半双工的通信方式，数据只能在进程间单向流动；其中，发送消息的称为写进程，接收消息的称为读进程。管道主要分为普通管道和命名管道，它们的区别在于，普通管道只能在具有亲缘关系（如父子进程）的进程间流动，而命名管道允许无亲缘关系的进程间进行通信。【全双工：发送数据和接收数据可以同时进行，例如打电话。半双工：发送数据和接收数据一段时间内只能有一个动作发生，例如早起对讲机。单工：通信线路上的数据按单一方向传送。】
    - 消息缓冲通信：多个独立的进程之间可以通过消息缓冲机制来相互通信。这种通信的实现是以消息缓冲区为中间机制。通信双方的发送和接收操作均以消息为单位。在存储器中，消息缓冲区被组织成队列，通常称为消息队列；消息队列一旦创建后即可由多线程共享。
    - 共享内存通信：由于消息缓冲需要占用CPU进行消息复制，OS提供了一种允许进程间直接进行数据交换的通信方式，即共享内存。它可以不通过中间机制，直接将共享的内存页面映射到互相通信的进程格子的虚拟地址空间中去，从而使多个进程可以直接访问同一个物理内存页面，如同访问自己的私有空间一样。但是由于内存实体存在于计算机系统中，只能由处于同一个计算机系统的进程共享，不方便网络通信。

### 处理机调度与死锁

- **操作系统中的进程调度算法有哪些？**

  - 先来先服务调度算法：每次选择最先进入该队列的进程。
  - 短作业优先调度算法：每次选一个预计运行时间最短的进程。
  - 高优先权先调度算法：
    - 非抢占式优先权算法：一旦将处理机分配给就绪队列中优先权最高的进程后，该进程便一直执行下去，直到执行完成或该进程主动放弃处理机；这种调度算法主要用于批处理系统中，也可用于某些实时性要求不严格的实时系统中。
    - 抢占式优先权调度算法：同样是将处理机分配给当前最高优先权的进程，但是，若执行期间出现了优先权更高的进程，则立即停止当前进程的执行，重新将处理机分配给新的优先权最高的进程。通常用于要求比较严格的实时系统中，以及对性能要求较高的批处理和分时系统中。

- **什么是死锁？**

  - 在两个或多个并发进程中，如果每个进程持有某种资源而又等待着其他进程释放它们现在保有着的某种资源，且在改变这种状态之前都不能继续推进，则称这一组进程产生了死锁。简单来说就是多个进程的无限期阻塞与互相等待。

- **死锁产生的条件是什么？**

  主要有四个条件，只要其中一条不成立，则不会产生死锁：

  - 互斥条件：一个资源一次只能被一个进程调用。
  - 请求与保持条件：一个进程因请求资源而阻塞时，对已经获得的资源保持不放。
  - 不可剥夺条件：进程获得的资源，在完全使用完之前，不进行强行剥夺。
  - 环路等待条件：若干进程之间形成一种头尾相接的环形等待条件。

- **解决死锁的基本方法有哪些？**

  - 预防死锁：
    - 资源一次性分配（破坏请求和保持条件）。
    - 可剥夺资源：当某进程新的资源未满足时，释放已经占有的资源（破坏不可剥夺条件）。
    - 资源有序分配：系统给每类资源赋予一个编号，每一个进程按编号递增的顺序请求资源，释放则相反（破坏环路等待条件）。
  - 避免死锁：
    - 银行家算法：从当前状态出发，按照系统各类资源剩余量逐个检查各进程需要申请的资源量，找到一个各类资源申请量均不大于系统剩余资源量的进程p1，然后将资源分配给它，假定p1完成工作后将归还其占有的所有资源，更新系统剩余资源状态并移除进程列表中的p1，然后继续寻找下一个满足条件的进程。如果找到一个序列能使所有客户（进程）都完成工作，则银行家（OS）是安全的。
  - 检查死锁：
    - 为每个进程、每个资源指定唯一编号。
    - 设定一张资源分配表，记录各进程与占用资源之间的关系。
    - 设置一张进程等代表，记录各进程与要申请的资源之间的关系。
    - 依次检测资源的占有及请求情况，如果出现环路则说明引发了死锁。
  - 解除死锁：
    - 剥削资源：从其他进程剥削足够数量的资源给死锁进程，以解除死锁。
    - 撤销进程：最简单的撤销方式是使全部死锁进程都夭折掉；稍微温和一点的方式是按照某种顺序逐个撤销进程，知道有足够的资源可用，使死锁状态消除为止。

### 作业管理/文件管理

### 存储管理/设备管理

## Linux系统

### 内存管理

### 进程管理

### 文件管理

### 常见命令操作

## 数据库

## 计算机网络

### 计算机网络概述

### 应用层

### 传输层🔥🔥🔥

### 网络层

### 数据链路层

